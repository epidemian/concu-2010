<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Documentation: RawMessageQueue Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>RawMessageQueue Class Reference</h1><!-- doxytag: class="RawMessageQueue" --><code>#include &lt;<a class="el" href="message__queue_8h-source.html">message_queue.h</a>&gt;</code>
<p>

<p>
<a href="classRawMessageQueue-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRawMessageQueue.html#38262143d59ad47f122d6cbd57030b28">RawMessageQueue</a> (const string &amp;pathName, char id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRawMessageQueue.html#7fda81eaf94a970e82241d6efa2562d5">write</a> (const void *buffer, size_t size, long mtype)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRawMessageQueue.html#0dbcbf9af9fa704119de2d2ef6f90371">read</a> (void *buffer, size_t size, long mtype)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRawMessageQueue.html#741c6b10b9e2b1be969b59194ac0452c">~RawMessageQueue</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRawMessageQueue.html#457f069a4d7f9b7adcadee8af2ddb4cd">_queueId</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRawMessageQueue.html#2dc13c3e504b33527dbea9ceb06d640c">_freeOnExit</a></td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="38262143d59ad47f122d6cbd57030b28"></a><!-- doxytag: member="RawMessageQueue::RawMessageQueue" ref="38262143d59ad47f122d6cbd57030b28" args="(const string &amp;pathName, char id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RawMessageQueue::RawMessageQueue           </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>pathName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Connect to a message queue, or create it if it doesn't exist<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pathName</em>&nbsp;</td><td>A path to an existing file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>A char to identify the shared memory object. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="741c6b10b9e2b1be969b59194ac0452c"></a><!-- doxytag: member="RawMessageQueue::~RawMessageQueue" ref="741c6b10b9e2b1be969b59194ac0452c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RawMessageQueue::~RawMessageQueue           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Immediately removes the message queue, awakening all waiting reader and writer processes (with an error return and errno set to EIDRM). The calling process must be the creator the message queue. Only one instance of <a class="el" href="classRawMessageQueue.html">RawMessageQueue</a> (created by the same arguments) has the member _freeOnExit seted in true. If _freeOnExit's value is true, the message queue is removed. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="0dbcbf9af9fa704119de2d2ef6f90371"></a><!-- doxytag: member="RawMessageQueue::read" ref="0dbcbf9af9fa704119de2d2ef6f90371" args="(void *buffer, size_t size, long mtype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RawMessageQueue::read           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>mtype</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads size bytes from the queue and stores them in the buffer.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Destination of the message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The size, in bytes, of the message to be read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mtype</em>&nbsp;</td><td>Zero : Retrieves the next message on the queue, regardless of its mtype. Positive: Gets the next message with an mtype equal to the specified mtype. Negative: Retrieve the first message on the queue whose mtype field is less than or equal to the absolute value of the mtype argument. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="7fda81eaf94a970e82241d6efa2562d5"></a><!-- doxytag: member="RawMessageQueue::write" ref="7fda81eaf94a970e82241d6efa2562d5" args="(const void *buffer, size_t size, long mtype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RawMessageQueue::write           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>mtype</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Writes size bytes from the buffer in the queue. The id of the message is mtype. If another process wants to read this message, it has to use this mtype value.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td><a class="el" href="classMessage.html">Message</a> to be written on the queue. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The size, in bytes, of the data to be read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mtype</em>&nbsp;</td><td>The id of the message. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="2dc13c3e504b33527dbea9ceb06d640c"></a><!-- doxytag: member="RawMessageQueue::_freeOnExit" ref="2dc13c3e504b33527dbea9ceb06d640c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classRawMessageQueue.html#2dc13c3e504b33527dbea9ceb06d640c">RawMessageQueue::_freeOnExit</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="457f069a4d7f9b7adcadee8af2ddb4cd"></a><!-- doxytag: member="RawMessageQueue::_queueId" ref="457f069a4d7f9b7adcadee8af2ddb4cd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classRawMessageQueue.html#457f069a4d7f9b7adcadee8af2ddb4cd">RawMessageQueue::_queueId</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>include/ipc/<a class="el" href="message__queue_8h-source.html">message_queue.h</a><li>src/ipc/<a class="el" href="message__queue_8cpp.html">message_queue.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Apr 19 02:03:17 2010 for Documentation by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
