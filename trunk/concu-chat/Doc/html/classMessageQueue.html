<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Documentation: MessageQueue Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>MessageQueue Class Reference</h1><!-- doxytag: class="MessageQueue" --><code>#include &lt;<a class="el" href="message__queue_8h-source.html">message_queue.h</a>&gt;</code>
<p>

<p>
<a href="classMessageQueue-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageQueue.html#9f9fba196c790b1c6ffc8942bfd2227a">MessageQueue</a> (const string &amp;pathName, char id)</td></tr>

<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMessageQueue.html#f92446b6f5dff6ffb4f523c85c066ad9">write</a> (const T &amp;obj, long mtype)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageQueue.html#b0a94ebdfdd9163fce40657e2fbfd891">write</a> (const void *buffer, size_t size, long mtype)</td></tr>

<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMessageQueue.html#81d59fbb3d8ad809a37e0f9a56a90fc6">read</a> (T &amp;obj, long mtype)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageQueue.html#1ce5443461c439d7d564f0d04d44d812">read</a> (void *buffer, size_t size, long mtype)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageQueue.html#63b519d0981515633e3d1ae8358f4e94">~MessageQueue</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classRawMessageQueue.html">RawMessageQueue</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageQueue.html#28ee84422ed78459c2e92909c99dc1f4">_rawMessageQueue</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A class responsible for inter-process communication. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="9f9fba196c790b1c6ffc8942bfd2227a"></a><!-- doxytag: member="MessageQueue::MessageQueue" ref="9f9fba196c790b1c6ffc8942bfd2227a" args="(const string &amp;pathName, char id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MessageQueue::MessageQueue           </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>pathName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Connect to a message queue, or create it if it doesn't exist<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pathName</em>&nbsp;</td><td>A path to an existing file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>A char to identify the shared memory object. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="63b519d0981515633e3d1ae8358f4e94"></a><!-- doxytag: member="MessageQueue::~MessageQueue" ref="63b519d0981515633e3d1ae8358f4e94" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual MessageQueue::~MessageQueue           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes the message queue. The calling process must be the creator the message queue 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="1ce5443461c439d7d564f0d04d44d812"></a><!-- doxytag: member="MessageQueue::read" ref="1ce5443461c439d7d564f0d04d44d812" args="(void *buffer, size_t size, long mtype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageQueue::read           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>mtype</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads size bytes from the queue and stores them in the buffer.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Destination of the message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The size, in bytes, of the message to be read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mtype</em>&nbsp;</td><td>Zero : Retrieves the next message on the queue, regardless of its mtype. Positive: Gets the next message with an mtype equal to the specified mtype. Negative: Retrieve the first message on the queue whose mtype field is less than or equal to the absolute value of the mtype argument. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="81d59fbb3d8ad809a37e0f9a56a90fc6"></a><!-- doxytag: member="MessageQueue::read" ref="81d59fbb3d8ad809a37e0f9a56a90fc6" args="(T &amp;obj, long mtype)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void MessageQueue::read           </td>
          <td>(</td>
          <td class="paramtype">T &amp;&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>mtype</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads an object to the queue. Note that the object must be of scalar type (or it's internal structure be all scalar types), as it will be written as bytes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>The object to be read from the queue. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b0a94ebdfdd9163fce40657e2fbfd891"></a><!-- doxytag: member="MessageQueue::write" ref="b0a94ebdfdd9163fce40657e2fbfd891" args="(const void *buffer, size_t size, long mtype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageQueue::write           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>mtype</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Writes size bytes from the buffer in the queue. The id of the message is mtype. If another process wants to read this message, it has to use this mtype value.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td><a class="el" href="classMessage.html">Message</a> to be written on the queue. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The size, in bytes, of the data to be read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mtype</em>&nbsp;</td><td>The id of the message. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="f92446b6f5dff6ffb4f523c85c066ad9"></a><!-- doxytag: member="MessageQueue::write" ref="f92446b6f5dff6ffb4f523c85c066ad9" args="(const T &amp;obj, long mtype)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void MessageQueue::write           </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>mtype</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Writes an object to the queue. Note that the object must be of scalar type (or it's internal structure be all scalar types), as it will be written as bytes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>The object to be written to the queue. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="28ee84422ed78459c2e92909c99dc1f4"></a><!-- doxytag: member="MessageQueue::_rawMessageQueue" ref="28ee84422ed78459c2e92909c99dc1f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRawMessageQueue.html">RawMessageQueue</a> <a class="el" href="classMessageQueue.html#28ee84422ed78459c2e92909c99dc1f4">MessageQueue::_rawMessageQueue</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>include/ipc/<a class="el" href="message__queue_8h-source.html">message_queue.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Apr 19 02:03:16 2010 for Documentation by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
